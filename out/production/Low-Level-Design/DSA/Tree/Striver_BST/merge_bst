class BSTIterator {
public:
    stack <TreeNode* > nodes;

    BSTIterator(TreeNode* root) {
        pushAll(root);// initially push all left.
    }
    
    int next() {
        TreeNode* nextNode = nodes.top();
        nodes.pop();
        pushAll(nextNode->right);
        return nextNode->val;
    }
    
    bool hasNext() {
        return !nodes.empty();
    }
    
private:
    void pushAll(TreeNode* root) {
        while (root != NULL) {
            nodes.push(root);
            root = root->left;
        }   
    }     
};
